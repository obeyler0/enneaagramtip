<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Enneagram Rehberi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="logo.png" type="image/png">
    <link rel="apple-touch-icon" href="logo.png">

</head>

<body>
    <div id="layout">
        <!-- Sol MenÃ¼ / Alt MenÃ¼ (Mobile) -->
        <nav class="sidebar">
            <div class="logo">
                <img src="logo.png" alt="Enneagram Logo" class="app-logo">
            </div>


            <div class="nav-links">
                <button class="nav-btn active" onclick="switchPage('home')">
                    <!-- Home Icon -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span>KeÅŸfet</span>
                </button>

                <button class="nav-btn" onclick="switchPage('test')">
                    <span class="icon">ğŸ“</span>
                    <span class="label">Test Yap</span>
                </button>
                <button class="nav-btn" onclick="switchPage('about')">
                    <span class="icon">â„¹ï¸</span>
                    <span class="label">Nedir?</span>
                </button>
            </div>

            <div class="sidebar-footer-desktop">
                <small>Published by<br><strong>O.Beyler</strong></small>
            </div>

        </nav>

        <!-- Ana Ä°Ã§erik AlanÄ± -->
        <div id="main-content">

            <!-- Mobile Top Bar (Logo) -->
            <div class="mobile-top-bar">
                <img src="logo.png" alt="E9" class="mobile-logo-img">
                <span class="mobile-logo-text">Enneagram</span>
            </div>

            <!-- SAYFA 1: TÄ°PLER (HOME) -->
            <div id="home-page" class="page-view active">
                <header>
                    <div>
                        <h1>Enneagram</h1>
                        <p class="subtitle">KiÅŸilik Tipleri Rehberi</p>
                    </div>
                </header>

                <div class="card-grid" id="cardGrid">
                    <!-- Kartlar JS ile buraya -->
                </div>
            </div>

            <!-- SAYFA 3: NEDÄ°R? (ABOUT) -->
            <div id="about-page" class="page-view">
                <div class="about-container">
                    <header>
                        <h1>Enneagram Nedir?</h1>
                        <p class="subtitle">Kadim Bilgelik ve Modern Psikoloji</p>
                    </header>

                    <div class="about-content">
                        <section>
                            <p>Enneagram, insan kiÅŸiliÄŸini <strong>9 farklÄ± temel tip</strong> Ã¼zerinden aÃ§Ä±klayan,
                                kÃ¶kenleri Ã§ok eskilere dayanan ancak modern psikolojiyle harmanlanmÄ±ÅŸ gÃ¼Ã§lÃ¼ bir kendini
                                tanÄ±ma modelidir.</p>
                            <p>Sadece davranÄ±ÅŸlarÄ±mÄ±zÄ± deÄŸil, bu davranÄ±ÅŸlarÄ±n altÄ±ndaki <strong>temel motivasyonlarÄ±,
                                    korkularÄ± ve arzularÄ±</strong> da ortaya Ã§Ä±karÄ±r.</p>
                        </section>

                        <div class="centers-grid">
                            <div class="center-card head">
                                <div class="center-icon">ğŸ§ </div>
                                <h3>Zihin Merkezi</h3>
                                <p class="types">Tipler: 5, 6, 7</p>
                                <p>DÃ¼ÅŸÃ¼nce, analiz ve planlama odaklÄ±dÄ±rlar. Temel duygularÄ± <strong>korku</strong>dur.
                                </p>
                            </div>
                            <div class="center-card heart">
                                <div class="center-icon">â¤ï¸</div>
                                <h3>Kalp Merkezi</h3>
                                <p class="types">Tipler: 2, 3, 4</p>
                                <p>Duygu, iliÅŸki ve imaj odaklÄ±dÄ±rlar. Temel duygularÄ± <strong>utanÃ§/imaj</strong>dÄ±r.
                                </p>
                            </div>
                            <div class="center-card body">
                                <div class="center-icon">ğŸ’ª</div>
                                <h3>Beden Merkezi</h3>
                                <p class="types">Tipler: 8, 9, 1</p>
                                <p>Ä°Ã§gÃ¼dÃ¼, eylem ve kontrol odaklÄ±dÄ±rlar. Temel duygularÄ± <strong>Ã¶fke</strong>dir.</p>
                            </div>
                        </div>

                        <section>
                            <h3>Neden Ã–nemli?</h3>
                            <p>Enneagram sizi bir kalÄ±ba sokmaz, aksine iÃ§inde bulunduÄŸunuz kalÄ±plarÄ± fark etmenizi
                                saÄŸlar. Kendi "otomatik pilot" davranÄ±ÅŸlarÄ±nÄ±zÄ± gÃ¶rdÃ¼ÄŸÃ¼nÃ¼zde, onlarÄ± yÃ¶netme ve
                                dÃ¶nÃ¼ÅŸtÃ¼rme ÅŸansÄ± elde edersiniz.</p>
                        </section>
                    </div>
                </div>
            </div>

            <!-- SAYFA 2: TEST -->
            <div id="test-page" class="page-view">
                <div class="test-container-page">
                    <header>
                        <div>
                            <h1>KiÅŸilik Testi</h1>
                            <p class="subtitle">Tipini KeÅŸfet</p>
                        </div>
                    </header>

                    <div id="quizStartView">
                        <div class="test-intro-card">
                            <h2>Kendini TanÄ±ma YolculuÄŸu</h2>
                            <p>Bu kÄ±sa test, Enneagram tipini bulmana yardÄ±mcÄ± olacak. BaÅŸlamadan Ã¶nce seni tanÄ±mak
                                isteriz.</p>

                            <input type="text" id="userName" placeholder="AdÄ±n veya lakabÄ±n..." class="name-input"
                                autocomplete="off">

                            <button class="btn-primary" onclick="startTest()">Testi BaÅŸlat</button>
                        </div>
                    </div>

                    <div id="quizActiveView" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div id="quizContent"></div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Mobile Footer -->
        <div class="mobile-footer">
            <small>Published by <strong>O.Beyler</strong></small>
        </div>


        <!-- Detay Modal (Her yerden eriÅŸilebilir) -->
        <div class="detail-overlay" id="detailOverlay">
            <div class="detail-modal" id="detailModal">
                <button class="close-btn" onclick="closeDetail()">&times;</button>
                <div class="detail-content" id="detailContent"></div>
                <!-- PaylaÅŸ butonu JS ile dinamik eklenecek, ancak yeri burasÄ± -->
                <div class="share-action-area" id="shareActionArea"></div>
            </div>
        </div>

        <!-- SHARE CARD MODAL -->
        <div class="share-overlay" id="shareOverlay" onclick="closeShareCard()">
            <div class="share-modal" onclick="event.stopPropagation()">
                <div class="share-card-container" id="shareCardContainer">
                    <!-- Dinamik Kart Ä°Ã§eriÄŸi -->
                </div>
                <p class="share-hint">Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±p paylaÅŸabilirsin! ğŸ“¸</p>
                <button class="btn-primary" style="width: 100%; margin-top: 20px;"
                    onclick="closeShareCard()">Kapat</button>
            </div>
        </div>
    </div>


    <!-- Veriler ve MantÄ±k -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="data.js"></script>
    <script src="recommendations.js"></script>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(() => console.log('Uygulama Hazel!'))
                .catch(err => console.log('Hata:', err));
        }
    </script>
</body>

</html>