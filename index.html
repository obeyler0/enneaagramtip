<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Enneagram Rehberi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3523/3523063.png">
</head>

<body>
    <div id="layout">
        <!-- Sol MenÃ¼ / Alt MenÃ¼ (Mobile) -->
        <nav class="sidebar">
            <div class="logo">E9</div>

            <div class="nav-links">
                <button class="nav-btn active" onclick="switchPage('home')">
                    <!-- Home Icon -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span>KeÅŸfet</span>
                </button>

                <button class="nav-btn" onclick="switchPage('test')">
                    <!-- Test/Clipboard Icon -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                    </svg>
                    <span>Test Yap</span>
                </button>
            </div>
        </nav>

        <!-- Ana Ä°Ã§erik AlanÄ± -->
        <div id="main-content">

            <!-- SAYFA 1: TÄ°PLER (HOME) -->
            <div id="home-page" class="page-view active">
                <header>
                    <div>
                        <h1>Enneagram</h1>
                        <p class="subtitle">KiÅŸilik Tipleri Rehberi</p>
                    </div>
                </header>

                <div class="card-grid" id="cardGrid">
                    <!-- Kartlar JS ile buraya -->
                </div>
            </div>

            <!-- SAYFA 2: TEST -->
            <div id="test-page" class="page-view">
                <div class="test-container-page">
                    <header>
                        <div>
                            <h1>KiÅŸilik Testi</h1>
                            <p class="subtitle">Tipini KeÅŸfet</p>
                        </div>
                    </header>

                    <div id="quizStartView">
                        <div class="test-intro-card">
                            <h2>Kendini TanÄ±ma YolculuÄŸu</h2>
                            <p>Bu kÄ±sa test, Enneagram tipini bulmana yardÄ±mcÄ± olacak. LÃ¼tfen cevaplarken dÃ¼rÃ¼st ol ve
                                genellikle nasÄ±l hissettiÄŸini dÃ¼ÅŸÃ¼n.</p>
                            <button class="btn-primary" onclick="startTest()">Testi BaÅŸlat</button>
                        </div>
                    </div>

                    <div id="quizActiveView" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div id="quizContent"></div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Detay Modal (Her yerden eriÅŸilebilir) -->
        <div class="detail-overlay" id="detailOverlay">
            <div class="detail-modal" id="detailModal">
                <button class="close-btn" onclick="closeDetail()">&times;</button>
                <div class="detail-content" id="detailContent"></div>
                <!-- PaylaÅŸ butonu JS ile dinamik eklenecek, ancak yeri burasÄ± -->
                <div class="share-action-area" id="shareActionArea"></div>
            </div>
        </div>

        <!-- SHARE CARD MODAL -->
        <div class="share-overlay" id="shareOverlay" onclick="closeShareCard()">
            <div class="share-modal" onclick="event.stopPropagation()">
                <div class="share-card-container" id="shareCardContainer">
                    <!-- Dinamik Kart Ä°Ã§eriÄŸi -->
                </div>
                <p class="share-hint">Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±p paylaÅŸabilirsin! ğŸ“¸</p>
                <button class="btn-primary" style="width: 100%; margin-top: 20px;"
                    onclick="closeShareCard()">Kapat</button>
            </div>
        </div>
    </div>


    <!-- Veriler ve MantÄ±k -->
    <script src="data.js"></script>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(() => console.log('Uygulama Hazel!'))
                .catch(err => console.log('Hata:', err));
        }
    </script>
</body>

</html>